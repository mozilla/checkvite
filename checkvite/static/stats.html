<div class="row">
  <div class=".col-3">
    <header>
      <h3>Global stats</h3>
    </header>
    <div class="chart-container">
      <p id="numberOfImages">Total: 0</p>
      <canvas id="overallProgressChart"></canvas>
    </div>
  </div>

  <div class=".col-3" id="user-progress">
    <header>
      <h3>Your stats</h3>
    </header>
    <div class="chart-container">
      <p id="numberOfUserImages">Total: 0</p>
      <canvas id="userProgressChart"></canvas>
    </div>
  </div>

  <div class=".col-3">
    <header>
      <h4>Rejection reasons</h4>
    </header>
    <div id="rejectionStats" style="width: 100%"></div>
  </div>

  <div class=".col-3">
    <header>
      <h4>Acceptance Rate</h4>
    </header>
    <div id="acceptanceRate" style="width: 100%"></div>
  </div>
</div>

<div class="card" style="margin-top: 20px; margin-bottom: 20px">
  <div class=".col-12">
    <header>
      <h3>Add a new image</h3>
    </header>
    <form
      style="width: 100%"
      action="/upload"
      method="post"
      enctype="multipart/form-data"
    >
      <label for="image">Image:</label>
      <input type="file" id="image" name="image" required /><br /><br />
      <img
        id="imagePreview"
        src=""
        alt="Image Preview"
        style="display: none; max-width: 100%; height: auto; margin-top: 10px"
      /><br /><br />

      <label for="alt_text">Alt Text:</label>
      <input
        type="text"
        id="alt_text"
        name="alt_text"
        placeholder="Enter alt text for the image"
        required
      /><br /><br />
      <label for="license">License:</label>
      <input
        type="text"
        id="license"
        name="license"
        value="APLv2"
        required
      /><br /><br />
      <label for="source">Source:</label>
      <input
        type="text"
        id="source"
        name="source"
        value="N/A"
        required
      /><br /><br />

      <label for="nsfw">NSFW:</label>
      <input type="checkbox" id="nsfw" name="nsfw" /><br /><br />

      <label for="golden">Golden:</label>
      <input type="checkbox" id="golden" name="golden" /><br /><br />
      <button type="submit">Upload</button>
    </form>
  </div>
</div>

<script>
  document.getElementById("image").addEventListener("change", function (event) {
    const file = event.target.files[0];
    if (file) {
      const reader = new FileReader();
      reader.onload = function (e) {
        const img = document.getElementById("imagePreview");
        img.src = e.target.result;
        img.style.display = "block";
      };
      reader.readAsDataURL(file);
    }
  });
</script>
