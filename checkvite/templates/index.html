<!doctype html>
<html>
  <head>
    <title>PDF.js model tweaking</title>
    <script src="/static/index.js" type="module"></script>
    <link href="/static/style.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://unpkg.com/chota@latest" />
  </head>
  <body>
    <div class="container">
      <nav class="nav">
  <div class="nav-left">
    <a class="brand" href="#"><img src="/static/moz.svg" style="height: 30px"/>PDF.js alt text</a>

    <div class="tabs">
      <a id="tab_to_verify" class="button outline tablinks active">To Verify</a>
      <a id="tab_verified" class="button outline tablinks">Verified</a>
      <a id="tab_to_train" class="button outline tablinks">To train</a>
      <a id="tab_stats" class="button outline tablinks">Stats</a>
    </div>
  </div>
</nav>
 <br/>

  {% if message %}
  <div class="row">
  <div class="col-12">
  <h4>{{message}}</h4>
  </div>
  </div>
  {% endif %}

  <div id="to_verify" class="tabcontent">

  {% for row in range(1, 4) %}  <!-- Creates three rows -->
    <div class="row">
      {% for col in range(1, 4) %}  <!-- Creates three columns per row -->
        <div id="image{{ (row - 1) * 3 + col }}" class="col-4">
          <form action="/train" method="POST" enctype="application/x-www-form-urlencoded">
          <p>Train with the caption below, or mark it as OK
          <input type="text" name="caption" id="caption{{ (row - 1) * 3 + col }}"></input>
          <input id="image_id{{ (row - 1) * 3 + col }}" type="hidden" name="image_id" value=""/>
          </p>
          <footer class="is-right">
            <button name="train" type="submit" id="fail_{{ (row - 1) * 3 + col }}" class="button error">Train</a>
            <button name="discard" type="submit" id="success_{{ (row - 1) * 3 + col }}" class="button success">Discard</a>
          </footer>
          </form>
        </div>
      {% endfor %}
    </div>
  {% endfor %}

</div>

<div id="verified" class="tabcontent" style="display: none">
  {% for row in range(1, 4) %}  <!-- Creates three rows -->
    <div class="row">
      {% for col in range(1, 4) %}  <!-- Creates three columns per row -->
        <div id="a_image{{ (row - 1) * 3 + col }}" class="col-4">
          <form action="/train" method="POST" enctype="application/x-www-form-urlencoded">
          <p>Train with the caption below, or mark it as OK
          <input type="text" name="caption" id="a_caption{{ (row - 1) * 3 + col }}"></input>
          <input id="a_image_id{{ (row - 1) * 3 + col }}" type="hidden" name="image_id" value=""/>
          </p>
          <footer class="is-right">
            <button name="train" type="submit" id="a_fail_{{ (row - 1) * 3 + col }}" class="button error">Train</a>
            <button name="discard" type="submit" id="a_success_{{ (row - 1) * 3 + col }}" class="button success">Valid</a>
          </footer>
          </form>
        </div>
      {% endfor %}
    </div>
  {% endfor %}
</div>

<div id="to_train" class="tabcontent" style="display: none">
  {% for row in range(1, 4) %}  <!-- Creates three rows -->
    <div class="row">
      {% for col in range(1, 4) %}  <!-- Creates three columns per row -->
        <div id="t_image{{ (row - 1) * 3 + col }}" class="col-4
          <form action="/train" method="POST" enctype="application/x-www-form-urlencoded">          <p>Train with the caption below, or mark it as OK
          <input type="text" name="caption" id="t_caption{{ (row - 1) * 3 + col }}"></input>
          <input id="t_image_id{{ (row - 1) * 3 + col }}" type="hidden" name="image_id" value=""/>
          </p>

          <footer class="is-right">
            <button name="train" type="submit" id="t_fail_{{ (row - 1) * 3 + col }}" class="button error">Train</a>
            <button name="discard" type="submit" id="t_success_{{ (row - 1) * 3 + col }}" class="button success">Valid</a>
          </footer>
          </form>
        </div>
      {% endfor %}
    </div>
  {% endfor %}
</div>

  <div id="stats" class="tabcontent" style="display: none">
      <div class="card" style="margin-top: 15px; margin-bottom: 15px">
        <header>

        <h3>Training Stats</h3>
        </header>


          <div class="progress-bar">
      <div class="segment accurate" data-tooltip="Accurate" style="width: 30%;">30%</div>
      <div class="segment biased" data-tooltip="Innacurate" style="width: 20%;">20%</div>
      <div class="segment not-checked" data-tooltip="Not checked yet" style="width: 50%;">50%</div>
</div>

<h3>Add a new image</h3>
    <form action="/upload" method="post" enctype="multipart/form-data">
        <label for="image">Image:</label>
<input type="file" id="image" name="image" required><br><br>
        <img id="imagePreview" src="#" alt="Image preview..." style="max-width: 400px; max-height: 300px; display: none;"><br><br>


        <label for="alt_text">Alt Text:</label>
        <input type="text" id="alt_text" name="alt_text" placeholder="Enter alt text for the image" required><br><br>

        <label for="license">License:</label>
        <input type="text" id="license" name="license" value="APLv2" required><br><br>

        <label for="source">Source:</label>
        <input type="text" id="source" name="source" value="N/A" required><br><br>


        <button type="submit">Upload</button>
    </form>

        <footer class="is-right">
          <button
            class="button primary"
            id="generate-button"
            onclick="location.reload()"
          >
            <span id="button-text">Load new images</span>
          </button>
        </footer>
      </div>
</div>

  </div>
  </body>
</html>
